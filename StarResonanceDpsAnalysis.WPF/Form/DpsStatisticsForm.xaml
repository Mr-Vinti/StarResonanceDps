<Window x:Class="StarResonanceDpsAnalysis.WPF.Form.DpsStatisticsForm"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:StarResonanceDpsAnalysis.WPF.Form"
        xmlns:svgc="https://github.com/dotnetprojects/SVGImage"
        xmlns:wc="clr-namespace:System.Windows.Shell;assembly=PresentationFramework"
        mc:Ignorable="d"
        Title="DpsStatisticsForm"
        Height="319" Width="318"
        WindowStyle="None"
        WindowStartupLocation="CenterScreen"
        Background="Transparent" 
        AllowsTransparency="True"
        ResizeMode="CanResize" Foreground="{x:Null}">
    <!-- 关键：必须不透明色，避免白条 -->
    
    <!-- WindowChrome: 开启可拉伸边界 -->
    <wc:WindowChrome.WindowChrome>
        <wc:WindowChrome CaptionHeight="0"
                         ResizeBorderThickness="6"
                         GlassFrameThickness="0"
                         UseAeroCaptionButtons="False"/>
    </wc:WindowChrome.WindowChrome>
    <Grid>

        <!-- 半透明/圆角交给内部 Border -->
        <Border CornerRadius="6"
            Background="#7F191919"
            SnapsToDevicePixels="True" Margin="3">
            <Border.Effect>
                <DropShadowEffect Color="#99000000"
                              BlurRadius="5"
                              ShadowDepth="0"
                              Opacity="0.6"/>
            </Border.Effect>
        </Border>

        <Border  Background="#CCBABABA"  VerticalAlignment="Top" CornerRadius="6,6,0,0" Height="26"  SnapsToDevicePixels="True" Margin="3" MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
            <!-- 顶部栏,Grid 一般不设置属性 -->
            <Grid>
                <TextBlock Margin="19,0,0,0"
   VerticalAlignment="Center"
   Foreground="White"
   FontFamily="pack://application:,,,/Assets/Fonts/#HarmonyOS Sans SC"
   Text="当前伤害" HorizontalAlignment="Left" Width="51"/>
                <!--左侧按钮-->
                <Button x:Name="LeftButton"
Style="{StaticResource IconButtonStyle}"
Content=""
Width="18" Height="16"
Margin="1,6,0,0"
HorizontalAlignment="Left"
VerticalAlignment="Top"
Click="LeftButton_Click"
Background="{x:Null}"
BorderBrush="{x:Null}"
Foreground="White"
FontFamily="pack://application:,,,/Assets/Fonts/#iconfont"
FontSize="15"/>
                <!--右侧按钮-->
                <Button x:Name="RightButton"
Style="{StaticResource IconButtonStyle}"
Content=""
Width="18" Height="16"
Margin="68,6,0,0"
HorizontalAlignment="Left"
VerticalAlignment="Top"
Click="RightButton_Click"
Background="{x:Null}"
BorderBrush="{x:Null}"
Foreground="White"
FontFamily="pack://application:,,,/Assets/Fonts/#iconfont"
FontSize="15"/>
                <!--切换按钮-->
                <Button x:Name="SwitchButton"
Style="{StaticResource IconButtonStyle}"
Content=""
Width="18" Height="16"
Margin="86,0,0,0"
HorizontalAlignment="Left"
VerticalAlignment="Center"
Click="SwitchButton_Click"
Background="{x:Null}"
BorderBrush="{x:Null}"
Foreground="White"
FontFamily="pack://application:,,,/Assets/Fonts/#iconfont"
FontSize="12"/>
                <!--刷新按钮-->
                <Button x:Name="RefreshButton"
Style="{StaticResource IconButtonStyle}"
Content=""
Margin="0,5,55,5"
Click="RefreshButton_Click"
Background="{x:Null}"
BorderBrush="{x:Null}"
Foreground="White"
FontFamily="pack://application:,,,/Assets/Fonts/#iconfont"
FontSize="15" HorizontalAlignment="Right" Width="18"/>
                <!--设置按钮-->
                <Button x:Name="SetButton"
                Style="{StaticResource IconButtonStyle}"
                Content="&#xE600;"
                Margin="263,5,31,5"
                Click="SetButton_Click"
                Background="{x:Null}"
                BorderBrush="{x:Null}"
                Foreground="White"
                FontFamily="pack://application:,,,/Assets/Fonts/#iconfont"
                FontSize="15">

                    <Button.ContextMenu>
                        <ContextMenu Style="{StaticResource ModernContextMenu}">
                            <!-- 只给 MenuItem 应用样式，Separator 不受影响 -->
                            <ContextMenu.Resources>
                                <Style TargetType="MenuItem" BasedOn="{StaticResource ModernMenuItem}"/>
                            </ContextMenu.Resources>

                            <!--记录设置-->
                            <MenuItem  Style="{StaticResource CheckableMenuItem}" Header="统计BOSS" IsCheckable="True" IsChecked="False" />
                            <MenuItem  Header="个人模式"/>
                            <MenuItem Header="记录设置"  ItemContainerStyle="{StaticResource CheckableMenuItem}">
                                <MenuItem Header="记录每一次"   Click="RecordSettingsMenuItem_Click"/>
                                <MenuItem Header="不记录1分钟以下"  Click="RecordSettingsMenuItem_Click"/>
                                <MenuItem Header="不记录2分钟以下"  Click="RecordSettingsMenuItem_Click"/>
                            </MenuItem>

                            <MenuItem x:Name="miHistory" Header="历史记录" />
                            <MenuItem Header="测伤模式" ItemContainerStyle="{StaticResource CheckableMenuItem}">
                                <MenuItem Header="短轴测伤(3分)" IsCheckable="True" Click="AxisMenuItem_Click"/>
                                <MenuItem Header="长轴测伤(5分)" IsCheckable="True" Click="AxisMenuItem_Click"/>
                            </MenuItem>
                            <!--打桩模式-->
                            <MenuItem Header="打桩模式"  ItemContainerStyle="{StaticResource CheckableMenuItem}">
                                <MenuItem Header="个人打桩 " IsCheckable="True"  Click="PilingMenuItem_Click"/>
                                <MenuItem Header="协会打桩" IsCheckable="True"  Click="PilingMenuItem_Click"/>
                                <MenuItem Header="极限打桩" IsCheckable="True"  Click="PilingMenuItem_Click"/>
                            </MenuItem>
                            <MenuItem Header="技能日记"/>
                            <Separator/>
                            <MenuItem Header="退出"/>
                        </ContextMenu>
                    </Button.ContextMenu>

                </Button>
                <!--隐藏按钮-->
                <Button x:Name="PullButton"
                Style="{StaticResource IconButtonStyle}"
                Content="" 
                Margin="0,5,6,5"
                Click="PullButton_Click"
                Background="{x:Null}"
                BorderBrush="{x:Null}"
                Foreground="White"
                FontFamily="pack://application:,,,/Assets/Fonts/#iconfont"
                FontSize="15" HorizontalAlignment="Right" Width="18"/>
            </Grid>
        </Border>
    </Grid>

</Window>
