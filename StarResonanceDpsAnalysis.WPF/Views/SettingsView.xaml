<Window
    x:Class="StarResonanceDpsAnalysis.WPF.Views.SettingsView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:ctrl="clr-namespace:StarResonanceDpsAnalysis.WPF.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:StarResonanceDpsAnalysis.WPF.Views"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="设置"
    Width="455" Height="780"
    MinWidth="450" MinHeight="100"
    Padding="5" 
    Style="{StaticResource TransparentWindow}"
    mc:Ignorable="d">

    <!--  WindowChrome: 开启可拉伸边界  -->
    <WindowChrome.WindowChrome>
        <WindowChrome
            CaptionHeight="0"
            GlassFrameThickness="0"
            ResizeBorderThickness="6"
            UseAeroCaptionButtons="False" />
    </WindowChrome.WindowChrome>
    
    <Window.Resources>
        <Style x:Key="MainBackground" TargetType="Grid" />

        <Style x:Key="Title" TargetType="ctrl:Header">
            <Setter Property="VerticalAlignment" Value="Top" />
            <Setter Property="Height" Value="30" />
        </Style>

        <Style x:Key="Header" TargetType="Grid">
            <Setter Property="VerticalAlignment" Value="Top" />
            <Setter Property="Height" Value="35"/>
            <Setter Property="Background" Value="#2297F4" />
        </Style>

        <Style x:Key="HeaderText" TargetType="TextBlock">
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="Margin" Value="10,0,0,0" />
            <Setter Property="FontFamily" Value="pack://application:,,,/Assets/Fonts/#阿里妈妈数黑体" />
            <Setter Property="Foreground" Value="#FFF" />
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="FontWeight" Value="Bold"/>
        </Style>

        <Style x:Key="MainContentSV" TargetType="ScrollViewer">
            <Setter Property="VerticalScrollBarVisibility" Value="Auto" />
        </Style>
        
        <Style x:Key="SettingBorderBase" TargetType="Border">
            <Setter Property="Padding" Value="20" />
            <Setter Property="Margin" Value="10" />
            <Setter Property="Background" Value="#FFF" />
            <Setter Property="CornerRadius" Value="{StaticResource MainCornerRadius}" />
        </Style>

        <Style x:Key="BasicSettingBorder" TargetType="Border" BasedOn="{StaticResource SettingBorderBase}">
            
        </Style>

        <Style x:Key="KeySettingBorder" TargetType="Border" BasedOn="{StaticResource SettingBorderBase}">
            
        </Style>

        <Style x:Key="BattleSettingBorder" TargetType="Border" BasedOn="{StaticResource SettingBorderBase}">
            
        </Style>

        <Style x:Key="SettingTitleGrid" TargetType="Grid">
            
        </Style>

        <Style x:Key="Spliter" TargetType="Border" BasedOn="{StaticResource SpliterBase}">
            <Setter Property="Margin" Value="0,20,0,0" />
        </Style>

        <Style x:Key="SettingContentGrid" TargetType="Grid">
            
        </Style>

        <Style x:Key="SettingBorderBar" TargetType="Border">
            <Setter Property="HorizontalAlignment" Value="Left" />
            <Setter Property="Background" Value="#2297F4" />
            <Setter Property="Margin" Value="-20,-10,0,-10" />
            <Setter Property="Width" Value="3" />
        </Style>

        <Style x:Key="SettingTitleBase" TargetType="TextBlock">
            <Setter Property="FontFamily" Value="pack://application:,,,/Assets/Fonts/#HarmonyOS Sans SC" />
            <Setter Property="Foreground" Value="#2297F4" />
        </Style>

        <Style x:Key="SettingTitle" TargetType="TextBlock" BasedOn="{StaticResource SettingTitleBase}">
            <Setter Property="HorizontalAlignment" Value="Left" />
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="FontWeight" Value="Bold"/>
        </Style>

        <Style x:Key="SettingSubTitle" TargetType="TextBlock" BasedOn="{StaticResource SettingTitleBase}">
            <Setter Property="VerticalAlignment" Value="Bottom" />
            <Setter Property="HorizontalAlignment" Value="Right" />
            <Setter Property="FontSize" Value="9"/>
        </Style>

        <Style x:Key="NetcardComboBox" TargetType="ctrl:PrefixedComboBox">
            <Setter Property="Margin" Value="0,20,0,0" />
            <Setter Property="BorderThickness" Value="2" />

        </Style>

        <Style x:Key="KeysGrid" TargetType="Grid">
            <Setter Property="Margin" Value="0,20,0,0" />
        </Style>

        <Style x:Key="MouseThroughKeyTextBox" TargetType="ctrl:AffixedTextBox">
            
        </Style>

        <Style x:Key="ClearDataKeyTextBox" TargetType="ctrl:AffixedTextBox">
            
        </Style>

        <Style x:Key="BattleSettingFieldBase" TargetType="Grid">
            <Setter Property="Margin" Value="0,20,0,0" />
        </Style>

        <Style x:Key="ClearSectionedDataTimeGrid" TargetType="Grid" BasedOn="{StaticResource BattleSettingFieldBase}">
            <Setter Property="Margin" Value="0,20,0,0" />
        </Style>

        <Style x:Key="ClearSectionedDataTimeTextBox" TargetType="ctrl:AffixedTextBox">

        </Style>

        <Style x:Key="ClearAllDataWhenSwitchGrid" TargetType="Grid" BasedOn="{StaticResource BattleSettingFieldBase}">
            
        </Style>

        <Style x:Key="ClearAllDataWhenSwitch" TargetType="ctrl:Switch">
            <Setter Property="HorizontalAlignment" Value="Right" />
        </Style>

        <Style x:Key="DamageDisplayType" TargetType="ctrl:PrefixedComboBox">
            <Setter Property="HorizontalAlignment" Value="Right" />
        </Style>

        <Style x:Key="TransparencySlider" TargetType="Slider">
            

        </Style>

        <Style x:Key="DamageDisplayTypeGrid" TargetType="Grid" BasedOn="{StaticResource BattleSettingFieldBase}">
            
        </Style>

        <Style x:Key="TransparencyGrid" TargetType="Grid" BasedOn="{StaticResource BattleSettingFieldBase}">
            
        </Style>

        <Style x:Key="Footer" TargetType="Border">
            <Setter Property="Height" Value="50" />
            <Setter Property="Background" Value="#FFF" />
            <Setter Property="CornerRadius">
                <Setter.Value>
                    <CornerRadius
                        TopLeft="0"
                        TopRight="0"
                        BottomLeft="{StaticResource MainCornerRadiusDouble}"
                        BottomRight="{StaticResource MainCornerRadiusDouble}" />
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="ControlButton" TargetType="Button">
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="HorizontalAlignment" Value="Center" />
            <Setter Property="Height" Value="30" />
            <Setter Property="Width" Value="30" />
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="BorderThickness" Value="0" />
        </Style>

        <Style x:Key="ConfirmButton" TargetType="Button" BasedOn="{StaticResource ControlButton}">
            <Setter Property="Margin" Value="-125,0,0,0" />
        </Style>

        <Style x:Key="CancelButton" TargetType="Button" BasedOn="{StaticResource ControlButton}">
            <Setter Property="Margin" Value="125,0,0,0" />
        </Style>
    </Window.Resources>
    <Border Background="#EFEFEF" Style="{StaticResource ShadowWindowBorder}">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <ctrl:Header Title="Setting" Style="{StaticResource Title}" 
                         Grid.Row="0" />

            <Grid Style="{StaticResource Header}" 
                  Grid.Row="1">
                
                <TextBlock Text="设置" Style="{StaticResource HeaderText}"/>
            </Grid>

            <ScrollViewer Style="{StaticResource MainContentSV}" 
                          Grid.Row="2">
                
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <Border Style="{StaticResource BasicSettingBorder}" 
                            Grid.Row="0">
                        
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <Grid Style="{StaticResource SettingTitleGrid}" 
                                  Grid.Row="0">
                                
                                <Border Style="{StaticResource SettingBorderBar}"/>
                                <TextBlock Text="基础设置" Style="{StaticResource SettingTitle}"/>
                                <TextBlock Text="自动设置错误时可手动设置" Style="{StaticResource SettingSubTitle}"/>
                            </Grid>
                            
                            <Border Style="{StaticResource Spliter}" 
                                    Grid.Row="1"/>
                            
                            <Grid Style="{StaticResource SettingContentGrid}" 
                                  Grid.Row="2">
                                
                                <ctrl:PrefixedComboBox x:Name="NetcardSelector" Style="{StaticResource NetcardComboBox}">
                                    <!-- 临时占位 -->
                                    <Border>
                                        <TextBlock FontFamily="pack://application:,,,/Assets/Fonts/#HarmonyOS Sans SC">
                                            监听网卡设备：
                                        </TextBlock>
                                    </Border>
                                </ctrl:PrefixedComboBox>
                            </Grid>
                        </Grid>
                    </Border>

                    <Border Style="{StaticResource KeySettingBorder}" 
                            Grid.Row="1">
                        
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <Grid Style="{StaticResource SettingTitleGrid}" 
                                  Grid.Row="0">
                                
                                <Border Style="{StaticResource SettingBorderBar}"/>
                                <TextBlock Text="按键设置" Style="{StaticResource SettingTitle}"/>
                                <TextBlock Text="按下 Delete 删除选择的键位" Style="{StaticResource SettingSubTitle}"/>
                            </Grid>
                            
                            <Border Style="{StaticResource Spliter}" 
                                    Grid.Row="1"/>
                            
                            <Grid Style="{StaticResource SettingContentGrid}" 
                                  Grid.Row="2">
                                
                                <Grid Style="{StaticResource KeysGrid}">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="1*"/>
                                        <ColumnDefinition Width="20"/>
                                        <ColumnDefinition Width="1*"/>
                                    </Grid.ColumnDefinitions>
                                    
                                    <ctrl:AffixedTextBox x:Name="MouseThroughKeyTextBox" 
                                                         Style="{StaticResource MouseThroughKeyTextBox}" 
                                                         Grid.Column="0">
                                        
                                        <!-- 临时占位 -->
                                        <Border>
                                            <TextBlock FontFamily="pack://application:,,,/Assets/Fonts/#HarmonyOS Sans SC">
                                                鼠标穿透：
                                            </TextBlock>
                                        </Border>
                                    </ctrl:AffixedTextBox>
                                    <ctrl:AffixedTextBox x:Name="ClearDataKeyTextBox" 
                                                         Style="{StaticResource ClearDataKeyTextBox}" 
                                                         Grid.Column="2">
                                        
                                        <!-- 临时占位 -->
                                        <Border>
                                            <TextBlock FontFamily="pack://application:,,,/Assets/Fonts/#HarmonyOS Sans SC">
                                                清空数据：
                                            </TextBlock>
                                        </Border>
                                    </ctrl:AffixedTextBox>
                                </Grid>
                            </Grid>
                        </Grid>
                    </Border>

                    <Border Style="{StaticResource BattleSettingBorder}" 
                            Grid.Row="2">
                        
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <Grid Style="{StaticResource SettingTitleGrid}" 
                                  Grid.Row="0">
                                
                                <Border Style="{StaticResource SettingBorderBar}"/>
                                <TextBlock Text="战斗设置" Style="{StaticResource SettingTitle}"/>
                                <TextBlock Text="脱战清空为当前统计，非全程统计" Style="{StaticResource SettingSubTitle}"/>
                            </Grid>
                            
                            <Border Style="{StaticResource Spliter}" 
                                    Grid.Row="1"/>

                            <Grid Style="{StaticResource SettingContentGrid}" 
                                  Grid.Row="2">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                
                                <Grid Style="{StaticResource ClearSectionedDataTimeGrid}" 
                                      Grid.Row="0">
                                    
                                    <ctrl:AffixedTextBox x:Name="ClearSectionedDataTime" Style="{StaticResource ClearSectionedDataTimeTextBox}">
                                        <!-- 临时占位 -->
                                        <Grid>
                                            <TextBlock FontFamily="pack://application:,,,/Assets/Fonts/#HarmonyOS Sans SC">
                                                脱战
                                            </TextBlock>
                                            <TextBlock FontFamily="pack://application:,,,/Assets/Fonts/#HarmonyOS Sans SC"
                                                       HorizontalAlignment="Right">
                                                秒后清除当前统计
                                            </TextBlock>
                                        </Grid>
                                    </ctrl:AffixedTextBox>
                                </Grid>
                                <Grid Style="{StaticResource ClearAllDataWhenSwitchGrid}" 
                                      Grid.Row="1">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="140"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    
                                    <TextBlock FontFamily="pack://application:,,,/Assets/Fonts/#HarmonyOS Sans SC">
                                        换地图时清空全程统计
                                    </TextBlock>
                                    <ctrl:Switch x:Name="ClearAllDataWhenSwitch" 
                                                 Style="{StaticResource ClearAllDataWhenSwitch}" 
                                                 Grid.Column="1"/>
                                </Grid>
                                <Grid Style="{StaticResource DamageDisplayTypeGrid}" 
                                      Grid.Row="2">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="140"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    
                                    <TextBlock FontFamily="pack://application:,,,/Assets/Fonts/#HarmonyOS Sans SC">
                                        计数显示类型
                                    </TextBlock>
                                    <ctrl:PrefixedComboBox x:Name="DamageDisplayType" 
                                                           Style="{StaticResource DamageDisplayType}" 
                                                           Grid.Column="1">
                                        <!-- 临时占位 -->
                                        <Border>
                                            <TextBlock FontFamily="pack://application:,,,/Assets/Fonts/#HarmonyOS Sans SC">
                                                三位分节法（KMBT）
                                            </TextBlock>
                                        </Border>
                                        <!--<Border>
                                            <TextBlock FontFamily="pack://application:,,,/Assets/Fonts/#HarmonyOS Sans SC">
                                                四位分节法（万亿兆）
                                            </TextBlock>
                                        </Border>-->
                                    </ctrl:PrefixedComboBox>
                                </Grid>
                                <Grid Style="{StaticResource TransparencyGrid}" 
                                      Grid.Row="3">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="140"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    
                                    <TextBlock FontFamily="pack://application:,,,/Assets/Fonts/#HarmonyOS Sans SC">
                                        窗体透明度
                                    </TextBlock>
                                    <Slider x:Name="TransparencySlider" 
                                            Style="{StaticResource TransparencySlider}" 
                                            Grid.Column="1"/>
                                </Grid>
                            </Grid>
                        </Grid>
                    </Border>
                </Grid>
            </ScrollViewer>

            <Border Style="{StaticResource Footer}" 
                    Grid.Row="3">
                
                <Grid>
                    <Button x:Name="Confirm" Style="{StaticResource ConfirmButton}">
                        <Image Source="pack://application:,,,/Assets/Images/ok_normal.png"/>
                    </Button>
                    <Button x:Name="Cancel" Style="{StaticResource CancelButton}">
                        <Image Source="pack://application:,,,/Assets/Images/cancel_normal.png"/>
                    </Button>
                </Grid>
            </Border>
        </Grid>
    </Border>
</Window>
